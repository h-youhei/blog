{{ define "meta" }}
	{{ if .Params.description }}
		<meta name="description" content="{{ .Params.description | markdownify | plainify | chomp }}">
	{{ else }}
		{{ with .Summary | plainify | chomp }}
			<meta name="description" content="{{ . }}">
		{{ end }}
	{{ end }}
{{ end }}

{{ define "style" }}
	<link href="{{ "/styles/single.css" | relURL }}" rel="stylesheet">
{{ end }}

{{ define "title" }}
	{{- if .Params.hide_section_in_title -}}
		{{ .Title }} - {{ .Site.Title }}
	{{- else }}
		{{- $parent := .Parent }}
		{{- if $parent.IsHome }}
			{{ .Title }} - {{ .Site.Title }}
		{{- else }}
			{{- if $parent.Params.hidden }} {{ $parent = $parent.Parent }} {{ end -}}
			{{ $parent.Title }} | {{ .Title }} - {{ .Site.Title }}
		{{- end }}
	{{- end }}
{{- end -}}

{{ define "h1" }}
	{{ if not .Parent.IsHome }}
		{{ partial "breadcrumb.html" . }}
	{{ end }}
	<h1>{{ .Title }}</h1>
{{ end }}

{{ define "header" }}
	{{ if not .Params.hide_date }}
		{{ partial "date.html" . }}
	{{ end }}
	{{ if .Params.toc }}
		<nav id="table-of-contents">
			<h2>{{ i18n "contents"}}</h2>
			{{ partial "table-of-contents.html" . }}
		</nav>
	{{ end }}
{{ end }}

{{ define "main" }}
	{{ .Content }}
{{ end }}

{{ define "footer" }}
	{{ if not .Parent.IsHome }}
		<footer id="page-footer">
			{{ partial "comment.html" . }}
			{{ partial "related.html" . }}
			{{ partial "breadcrumb.html" . }}
		</footer>
	{{ end }}
{{ end }}
